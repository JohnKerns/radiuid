                       ##################################################
                       ##########ReadMe Doc for RadiUID Server###########
                       ##########      Read Me Carefully!     ###########
                       ##################################################
                       ##################################################
                       ##################################################
                       ######       Written by John W Kerns        ######
                       ######      http://blog.packetsar.com       ######
                       ###### https://github.com/PackeTsar/radiuid ######
                       ##################################################
                       ##################################################
                       ##################################################
==================================================================================


##########   WHAT IS RADIUID   ##########
-----------------------------------------

RadiUID is a Linux-based application built to take everyday RADIUS accounting information generated by authenticators (and which contain username and IP info) and send that IP and username mapping info to a Palo Alto firewall for use by the User-ID system in the Palo Alto for user or group-based access-list filtering. 


##########   HOW IT WORKS   ##########
--------------------------------------

RadiUID uses FreeRADIUS as a backend service to listen on RADIUS accounting ports (typically TCP 1813) and write recieved accounting information to the accounting logs. RadiUID then parses these logs and pulls down the User and IP mapping information and pushes those mappings to the Palo Alto firewall using its published REST API.


##########   REQUIREMENTS   ##########
--------------------------------------

Currently, RadiUID has only been written and tested on a very specific setup as it was purpose-built for a specific environment, but open-sourced for use by others in different environments. Below is current the list of requirements for RadiUID. Hopefully this list of requirements will expand as development for RadiUID continues; relaxing the specific requirements for the operating system, interpreter version, and PAN-OS software version.

OS:			**CentOS 7 Minimal Install (updated to latest patches)**

Interpreter:		**Python 2.7 (Included in current release of CentOS 7)**

PAN-OS Version:		**7.X**


##########   INSTALL INSTRUCTIONS   ##########
----------------------------------------------

The install of RadiUID is very quick and straightforward if using the built-in installer.

	[1]: Install CentOS 7 Minimal Install with appropriate IP and OS settings


	[2]: Update CentOS 7 to latest patches
		> yum update -y

	[3]: Install the Git client
		> yum install git -y

	[4]: Download the RadiUID repo to any location on the box
		> git clone https://github.com/PackeTsar/radiuid

	[5]: Change to the directory where the RadiUID main code file (radiuid.py) and config file (radiuid.conf) are stored
		> cd radiuid

	[6]: Run the RadiUID program in install mode to perform the install
		> python radiuid.py --install

	[7]: Follow the on-screen prompts to install FreeRADIUS and the RadiUID app


	[8]: The installer should let you know if everything installed correctly and services are running, but here are a few ways to check the status of the services
		-Check if FreeRADIUS is running:	> systemctl status radiusd
		-Check if RadiUID is running:		> systemctl status radiuid
		-Watch the logs of RadiUID:		> tail -f /etc/radiuid/radiuid.log    (default log file path, but changable in the installer)

	[9]: Remember that install mode of RadiUID (--install or -i) can be used for the initial install and also maintenance of the application:
		-Changing settings in the RadiUID .conf file
		-Changing client settings in FreeRADIUS
		-Checking health of FreeRADIUS and RadiUID services
		-NOTE: Make sure that you have the .conf file in the same directory as the .py directory for the initial install


##########   RADIUID COMMAND INTERFACE   ##########
----------------------------------------------

The RadiUID system is meant to run in the background as a system service: contantly checking for new RADIUS accounting data and pushing User-ID mapping information to the firewall, but it also has an easy to use command interface. This command interface is meant to be used for regular maintenance, troubleshooting, and operation of the system.

Below is the CLI guide for the RadiUID service.

Command Syntax from Bash:
	>radiuid [arguments]

------------------------------------- Accepted Arguments -------------------------------------
----------------------------------------------------------------------------------------------
 - run                 |     Run the RadiUID main program to begin pushing User-ID information
----------------------------------------------------------------------------------------------

 - install             |     Run the RadiUID Install/Maintenance Utility
----------------------------------------------------------------------------------------------

 - show log            |     Show the RadiUID log file
 - show run            |     Show the RadiUID config file
 - show config         |     Show the RadiUID config file
 - show clients        |     Show the FreeRADIUS client config file
 - show status         |     Show the RadiUID and FreeRADIUS service statuses
----------------------------------------------------------------------------------------------

 - tail log            |     Watch the RadiUID log file in real time
----------------------------------------------------------------------------------------------

 - clear log           |     Delete the content in the log file
----------------------------------------------------------------------------------------------

 - edit config         |     Edit the RadiUID config file
 - edit clients        |     Edit list of client IPs for FreeRADIUS
----------------------------------------------------------------------------------------------

 - start               |     Start the RadiUID system service
 - stop                |     Stop the RadiUID system service
 - restart             |     Restart the RadiUID system service
----------------------------------------------------------------------------------------------

 - start freeradius    |     Start the FreeRADIUS system service
 - stop freeradius     |     Stop the FreeRADIUS system service
 - restart freeradius  |     Restart the FreeRADIUS system service
----------------------------------------------------------------------------------------------

 - start all           |     Start the RadiUID and FreeRADIUS system services
 - stop all            |     Stop the RadiUID and FreeRADIUS system services
 - restart all         |     Restart the RadiUID and FreeRADIUS system services
----------------------------------------------------------------------------------------------






##########   CONTRIBUTING   ##########
--------------------------------------

If you would like to help out by contributing code or reporting issues, please do!

Visit the GitHub page (https://github.com/PackeTsar/radiuid) and either report an issue or submit a pull request so you can make changes.

